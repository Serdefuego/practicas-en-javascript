<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Personajes de Dragon Ball</h1>
    <ul id="lista"></ul>

    <script>
fetch("https://dragonball-api.com/api/characters")
.then(response => response.json())
.then(data => {
console.log(data); // ğŸ‘ˆ MIRAMOS QUÃ‰ DEVUELVE
});



    //ğŸ‘‰ fetch() hace una peticiÃ³n a internet para pedir datos a esa URL (la API de Dragon Ball).
    //Esto devuelve una promesa (algo que se resolverÃ¡ en el futuro). 

    fetch("https://dragonball-api.com/api/characters")


    //2ï¸âƒ£ Convertimos la respuesta a JSON
    /* .then(response => response.json())
    ğŸ‘‰ Cuando llega la respuesta:

    response es lo que envÃ­a el servidor.
    .json() convierte esa respuesta a un objeto de JavaScript que podamos usar.
    TambiÃ©n devuelve otra promesa. */

        .then(response => response.json())
/* 
3ï¸âƒ£ Usamos los datos que llegaron
.then(data => {
ğŸ‘‰ Cuando ya tenemos el JSON listo, lo recibimos en la variable data.
const personajes = data.items;
ğŸ‘‰ La API no devuelve directamente un array, sino un objeto con varias cosas.
Dentro de ese objeto, el array de personajes estÃ¡ en:
data.items
Entonces:
personajes ahora es un array con todos los personajes.
const lista = document.getElementById("lista");
ğŸ‘‰ Buscamos en el HTML el <ul id="lista"> y lo guardamos en la variable lista para poder agregarle elementos.
4ï¸âƒ£ Recorremos todos los personajes
personajes.forEach(personaje => {
ğŸ‘‰ forEach recorre el array personajes uno por uno.
En cada vuelta:
personaje es un personaje distinto (Goku, Vegeta, etc.).
let li = document.createElement("li");
ğŸ‘‰ Creamos un nuevo elemento <li> (un Ã­tem de lista).
AÃºn no estÃ¡ en la pÃ¡gina.
li.textContent = personaje.name;
ğŸ‘‰ Le ponemos como texto el nombre del personaje (por ejemplo: â€œGokuâ€).
lista.appendChild(li);
ğŸ‘‰ Agregamos ese <li> dentro de <ul id="lista"> en el HTML.
Esto se repite para cada personaje.
 */

        .then(data => {
            const personajes = data.items;
            const lista = document.getElementById("lista");

            personajes.forEach(personaje => {
                let li = document.createElement("li");
                li.textContent = personaje.name;
                lista.appendChild(li);
            });
        })
        .catch(error => console.error("Error al obtener los personajes:", error));
    </script>
</body>
</html>
